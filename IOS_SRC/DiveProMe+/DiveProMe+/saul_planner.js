mainDepthsAir= [0.35000E+02,0.40000E+02,0.50000E+02,0.60000E+02,
    0.70000E+02,0.80000E+02,0.90000E+02,0.10000E+03,0.11000E+03,
    0.12000E+03,0.13000E+03,0.14000E+03,0.15000E+03,0.16000E+03,
    0.17000E+03,0.18000E+03,0.19000E+03
];
mainDepthsNitrox32= [0.45000E+02,0.50000E+02,0.60000E+02,0.70000E+02,
    0.80000E+02,0.90000E+02,0.10000E+03,0.11000E+03,0.12000E+03,
    0.13000E+03
];
gridPDCSvsBTAir = [[
    [0.70000E+02,0.00000E+00],[0.80000E+02,0.11788E-05],[0.90000E+02,0.20757E-04],[0.10000E+03,0.62171E-04],
    [0.11000E+03,0.12427E-03],[0.12000E+03,0.20655E-03],[0.13000E+03,0.30873E-03],[0.14000E+03,0.43117E-03],
    [0.15000E+03,0.57446E-03],[0.16000E+03,0.73831E-03],[0.17000E+03,0.92419E-03],[0.18000E+03,0.11317E-02],
    [0.19000E+03,0.13622E-02],[0.20000E+03,0.16163E-02],[0.21000E+03,0.18943E-02],[0.22000E+03,0.21991E-02],
    [0.23000E+03,0.25302E-02],[0.24000E+03,0.28899E-02],[0.25000E+03,0.32811E-02],[0.26000E+03,0.37047E-02],
    [0.27000E+03,0.41641E-02],[0.28000E+03,0.46643E-02],[0.29000E+03,0.52081E-02],[0.30000E+03,0.58011E-02],
    [0.31000E+03,0.64516E-02],[0.32000E+03,0.71671E-02],[0.33000E+03,0.79569E-02],[0.34000E+03,0.88320E-02],
    [0.35000E+03,0.98055E-02]
],[
    [0.50000E+02,0.00000E+00],[0.60000E+02,0.31537E-04],[0.70000E+02,0.11138E-03],[0.80000E+02,0.22614E-03],
    [0.90000E+02,0.37145E-03],[0.10000E+03,0.54625E-03],[0.11000E+03,0.75095E-03],[0.12000E+03,0.98801E-03],
    [0.13000E+03,0.12575E-02],[0.14000E+03,0.15627E-02],[0.15000E+03,0.19045E-02],[0.16000E+03,0.22869E-02],
    [0.17000E+03,0.27109E-02],[0.18000E+03,0.31829E-02],[0.19000E+03,0.37048E-02],[0.20000E+03,0.42838E-02],
    [0.21000E+03,0.49268E-02],[0.22000E+03,0.56416E-02],[0.23000E+03,0.64423E-02],[0.24000E+03,0.73415E-02],
    [0.25000E+03,0.83565E-02]
],[
    [0.25000E+02,0.00000E+00],[0.30000E+02,0.25338E-05],[0.35000E+02,0.69950E-04],[0.40000E+02,0.20236E-03],
    [0.45000E+02,0.37521E-03],[0.50000E+02,0.57453E-03],[0.55000E+02,0.79214E-03],[0.60000E+02,0.10248E-02],
    [0.65000E+02,0.12703E-02],[0.70000E+02,0.15288E-02],[0.75000E+02,0.18002E-02],[0.80000E+02,0.20871E-02],
    [0.85000E+02,0.23893E-02],[0.90000E+02,0.27092E-02],[0.95000E+02,0.30491E-02],[0.10000E+03,0.34097E-02],
    [0.10500E+03,0.37933E-02],[0.11000E+03,0.42037E-02],[0.11500E+03,0.46417E-02],[0.12000E+03,0.51101E-02],
    [0.12500E+03,0.56131E-02],[0.13000E+03,0.61542E-02],[0.13500E+03,0.67365E-02],[0.14000E+03,0.73644E-02],
    [0.14500E+03,0.80440E-02],[0.15000E+03,0.87805E-02]
],[
    [0.20000E+02,0.00000E+00],[0.25000E+02,0.11092E-03],[0.30000E+02,0.43112E-03],[0.35000E+02,0.87825E-03],
    [0.40000E+02,0.14010E-02],[0.45000E+02,0.19713E-02],[0.50000E+02,0.25747E-02],[0.55000E+02,0.32072E-02],
    [0.60000E+02,0.38672E-02],[0.65000E+02,0.45593E-02],[0.70000E+02,0.52886E-02],[0.75000E+02,0.60641E-02],
    [0.80000E+02,0.68923E-02],[0.85000E+02,0.77851E-02],[0.90000E+02,0.87517E-02]
],[
    [0.16000E+02,0.00000E+00],[0.18000E+02,0.46846E-04],[0.20000E+02,0.18091E-03],[0.22000E+02,0.38697E-03],
    [0.24000E+02,0.65279E-03],[0.26000E+02,0.96826E-03],[0.28000E+02,0.13248E-02],[0.30000E+02,0.17151E-02],
    [0.32000E+02,0.21356E-02],[0.34000E+02,0.25798E-02],[0.36000E+02,0.30463E-02],[0.38000E+02,0.35306E-02],
    [0.40000E+02,0.40337E-02],[0.42000E+02,0.45518E-02],[0.44000E+02,0.50850E-02],[0.46000E+02,0.56343E-02],
    [0.48000E+02,0.61978E-02],[0.50000E+02,0.67761E-02],[0.52000E+02,0.73715E-02],[0.54000E+02,0.79830E-02],
    [0.56000E+02,0.86111E-02],[0.58000E+02,0.92568E-02],[0.60000E+02,0.99217E-02]
],[
    [0.13000E+02,0.00000E+00],[0.14000E+02,0.13614E-04],[0.15000E+02,0.67237E-04],[0.16000E+02,0.15869E-03],
    [0.17000E+02,0.28471E-03],[0.18000E+02,0.44245E-03],[0.19000E+02,0.63014E-03],[0.20000E+02,0.84492E-03],
    [0.21000E+02,0.10844E-02],[0.22000E+02,0.13482E-02],[0.23000E+02,0.16328E-02],[0.24000E+02,0.19388E-02],
    [0.25000E+02,0.22632E-02],[0.26000E+02,0.26058E-02],[0.27000E+02,0.29658E-02],[0.28000E+02,0.33411E-02],
    [0.29000E+02,0.37328E-02],[0.30000E+02,0.41392E-02],[0.31000E+02,0.45594E-02],[0.32000E+02,0.49936E-02],
    [0.33000E+02,0.54420E-02],[0.34000E+02,0.59032E-02],[0.35000E+02,0.63769E-02],[0.36000E+02,0.68638E-02],
    [0.37000E+02,0.73659E-02],[0.38000E+02,0.78821E-02],[0.39000E+02,0.84123E-02],[0.40000E+02,0.89555E-02],
    [0.41000E+02,0.95108E-02],[0.42000E+02,0.10082E-01],[0.43000E+02,0.10665E-01],[0.44000E+02,0.11257E-01],
    [0.45000E+02,0.11859E-01]
],[
    [0.11000E+02,0.00000E+00],[0.12000E+02,0.18720E-04],[0.13000E+02,0.98022E-04],[0.14000E+02,0.23513E-03],
    [0.15000E+02,0.42645E-03],[0.16000E+02,0.66866E-03],[0.17000E+02,0.95859E-03],[0.18000E+02,0.12932E-02],
    [0.19000E+02,0.16698E-02],[0.20000E+02,0.20881E-02],[0.21000E+02,0.25444E-02],[0.22000E+02,0.30388E-02],
    [0.23000E+02,0.35690E-02],[0.24000E+02,0.41356E-02],[0.25000E+02,0.47376E-02],[0.26000E+02,0.53824E-02],
    [0.27000E+02,0.60679E-02],[0.28000E+02,0.67913E-02],[0.29000E+02,0.75552E-02],[0.30000E+02,0.83532E-02]
],[
    [0.90000E+01,0.00000E+00],[0.10000E+02,0.18561E-05],[0.11000E+02,0.64928E-04],[0.12000E+02,0.21396E-03],
    [0.13000E+02,0.44387E-03],[0.14000E+02,0.75103E-03],[0.15000E+02,0.11315E-02],[0.16000E+02,0.15831E-02],
    [0.17000E+02,0.21037E-02],[0.18000E+02,0.26912E-02],[0.19000E+02,0.33473E-02],[0.20000E+02,0.40847E-02],
    [0.21000E+02,0.48980E-02],[0.22000E+02,0.57925E-02],[0.23000E+02,0.67636E-02],[0.24000E+02,0.78101E-02],
    [0.25000E+02,0.89378E-02]
],[
    [0.80000E+01,0.00000E+00],[0.90000E+01,0.55783E-05],[0.10000E+02,0.10211E-03],[0.11000E+02,0.31415E-03],
    [0.12000E+02,0.63676E-03],[0.13000E+02,0.10665E-02],[0.14000E+02,0.16014E-02],[0.15000E+02,0.22412E-02],
    [0.16000E+02,0.30026E-02],[0.17000E+02,0.38898E-02],[0.18000E+02,0.49036E-02],[0.19000E+02,0.60448E-02],
    [0.20000E+02,0.73225E-02],[0.21000E+02,0.87209E-02],[0.22000E+02,0.10262E-01]
],[
    [0.70000E+01,0.00000E+00],[0.80000E+01,0.23609E-05],[0.90000E+01,0.10683E-03],[0.10000E+02,0.36245E-03],
    [0.11000E+02,0.76516E-03],[0.12000E+02,0.13133E-02],[0.13000E+02,0.20154E-02],[0.14000E+02,0.28979E-02],
    [0.15000E+02,0.39639E-02],[0.16000E+02,0.52096E-02],[0.17000E+02,0.66594E-02],[0.18000E+02,0.83033E-02],
    [0.19000E+02,0.10148E-01],[0.20000E+02,0.12210E-01]
],[
    [0.70000E+01,0.00000E+00],[0.80000E+01,0.75093E-04],[0.90000E+01,0.34083E-03],[0.10000E+02,0.79590E-03],
    [0.11000E+02,0.14473E-02],[0.12000E+02,0.23321E-02],[0.13000E+02,0.34636E-02],[0.14000E+02,0.48428E-02],
    [0.15000E+02,0.64891E-02],[0.16000E+02,0.84164E-02],[0.17000E+02,0.10649E-01]
],[
    [0.60000E+01,0.00000E+00],[0.70000E+01,0.25262E-04],[0.80000E+01,0.25291E-03],[0.90000E+01,0.71658E-03],
    [0.10000E+02,0.14425E-02],[0.11000E+02,0.24715E-02],[0.12000E+02,0.38167E-02],[0.13000E+02,0.55016E-02],
    [0.14000E+02,0.75473E-02],[0.15000E+02,0.99895E-02]
],[
    [0.60000E+01,0.00000E+00],[0.70000E+01,0.12851E-03],[0.80000E+01,0.54252E-03],[0.90000E+01,0.12777E-02],
    [0.10000E+02,0.23881E-02],[0.11000E+02,0.38957E-02],[0.12000E+02,0.58347E-02],[0.13000E+02,0.82356E-02],
    [0.14000E+02,0.11166E-01]
],[
    [0.50000E+01,0.00000E+00],[0.60000E+01,0.22631E-04],[0.70000E+01,0.31503E-03],[0.80000E+01,0.97294E-03],
    [0.90000E+01,0.20772E-02],[0.10000E+02,0.36601E-02],[0.11000E+02,0.57667E-02],[0.12000E+02,0.84503E-02]
],[
    [0.50000E+01,0.00000E+00],[0.60000E+01,0.10346E-03],[0.70000E+01,0.59524E-03],[0.80000E+01,0.15867E-02],
    [0.90000E+01,0.31360E-02],[0.10000E+02,0.52927E-02],[0.11000E+02,0.81406E-02],[0.12000E+02,0.11800E-01]
],[
    [0.40000E+01,0.00000E+00],[0.50000E+01,0.37847E-06],[0.60000E+01,0.24432E-03],[0.70000E+01,0.10037E-02],
    [0.80000E+01,0.23936E-02],[0.90000E+01,0.44633E-02],[0.10000E+02,0.73290E-02]
],[
    [0.40000E+01,0.00000E+00],[0.50000E+01,0.25501E-04],[0.60000E+01,0.45619E-03],[0.70000E+01,0.15475E-02],
    [0.80000E+01,0.33998E-02],[0.90000E+01,0.61015E-02],[0.10000E+02,0.98299E-02]
]];
gridPDCSvsBTNitrox32 = [[
    [0.17000E+03,0.00000E+00],[0.18000E+03,0.68447E-06],[0.19000E+03,0.18304E-04],[0.20000E+03,0.60155E-04],
    [0.21000E+03,0.12678E-03],[0.22000E+03,0.21914E-03],[0.23000E+03,0.33814E-03],[0.24000E+03,0.48446E-03],
    [0.25000E+03,0.66036E-03],[0.26000E+03,0.86630E-03],[0.27000E+03,0.11055E-02],[0.28000E+03,0.13792E-02],
    [0.29000E+03,0.16909E-02],[0.30000E+03,0.20443E-02],[0.31000E+03,0.24431E-02],[0.32000E+03,0.28937E-02],
    [0.33000E+03,0.34023E-02],[0.34000E+03,0.39764E-02],[0.35000E+03,0.46265E-02],[0.36000E+03,0.53628E-02],
    [0.37000E+03,0.61950E-02],[0.38000E+03,0.71325E-02],[0.39000E+03,0.81840E-02],[0.40000E+03,0.93521E-02]
],[
    [0.12500E+03,0.00000E+00],[0.13000E+03,0.28327E-06],[0.13500E+03,0.68310E-05],[0.14000E+03,0.22130E-04],
    [0.14500E+03,0.46197E-04],[0.15000E+03,0.79415E-04],[0.15500E+03,0.12163E-03],[0.16000E+03,0.17341E-03],
    [0.16500E+03,0.23448E-03],[0.17000E+03,0.30570E-03],[0.17500E+03,0.38686E-03],[0.18000E+03,0.47815E-03],
    [0.18500E+03,0.58069E-03],[0.19000E+03,0.69411E-03],[0.19500E+03,0.81879E-03],[0.20000E+03,0.95573E-03],
    [0.20500E+03,0.11053E-02],[0.21000E+03,0.12677E-02],[0.21500E+03,0.14435E-02],[0.22000E+03,0.16343E-02],
    [0.22500E+03,0.18403E-02],[0.23000E+03,0.20623E-02],[0.23500E+03,0.23012E-02],[0.24000E+03,0.25586E-02],
    [0.24500E+03,0.28362E-02],[0.25000E+03,0.31346E-02],[0.25500E+03,0.34556E-02],[0.26000E+03,0.38010E-02],
    [0.26500E+03,0.41730E-02],[0.27000E+03,0.45743E-02],[0.27500E+03,0.50062E-02],[0.28000E+03,0.54711E-02],
    [0.28500E+03,0.59713E-02],[0.29000E+03,0.65087E-02],[0.29500E+03,0.70863E-02],[0.30000E+03,0.77050E-02]
],[
    [0.65000E+02,0.00000E+00],[0.70000E+02,0.11697E-05],[0.75000E+02,0.19516E-04],[0.80000E+02,0.58483E-04],
    [0.85000E+02,0.11668E-03],[0.90000E+02,0.19374E-03],[0.95000E+02,0.28929E-03],[0.10000E+03,0.40347E-03],
    [0.10500E+03,0.53695E-03],[0.11000E+03,0.69033E-03],[0.11500E+03,0.86425E-03],[0.12000E+03,0.10606E-02],
    [0.12500E+03,0.12797E-02],[0.13000E+03,0.15238E-02],[0.13500E+03,0.17946E-02],[0.14000E+03,0.20935E-02],
    [0.14500E+03,0.24233E-02],[0.15000E+03,0.27872E-02],[0.15500E+03,0.31874E-02],[0.16000E+03,0.36272E-02],
    [0.16500E+03,0.41119E-02],[0.17000E+03,0.46448E-02],[0.17500E+03,0.52302E-02],[0.18000E+03,0.58727E-02]
],[
    [0.42000E+02,0.00000E+00],[0.44000E+02,0.63543E-05],[0.46000E+02,0.26284E-04],[0.48000E+02,0.58254E-04],
    [0.50000E+02,0.10081E-03],[0.52000E+02,0.15331E-03],[0.54000E+02,0.21427E-03],[0.56000E+02,0.28361E-03],
    [0.58000E+02,0.36032E-03],[0.60000E+02,0.44380E-03],[0.62000E+02,0.53459E-03],[0.64000E+02,0.63159E-03],
    [0.66000E+02,0.73467E-03],[0.68000E+02,0.84410E-03],[0.70000E+02,0.95994E-03],[0.72000E+02,0.10817E-02],
    [0.74000E+02,0.12095E-02],[0.76000E+02,0.13434E-02],[0.78000E+02,0.14844E-02],[0.80000E+02,0.16318E-02],
    [0.82000E+02,0.17857E-02],[0.84000E+02,0.19465E-02],[0.86000E+02,0.21143E-02],[0.88000E+02,0.22900E-02],
    [0.90000E+02,0.24736E-02],[0.92000E+02,0.26652E-02],[0.94000E+02,0.28651E-02],[0.96000E+02,0.30736E-02],
    [0.98000E+02,0.32912E-02],[0.10000E+03,0.35185E-02],[0.10200E+03,0.37563E-02],[0.10400E+03,0.40045E-02],
    [0.10600E+03,0.42634E-02],[0.10800E+03,0.45337E-02],[0.11000E+03,0.48158E-02],[0.11200E+03,0.51102E-02],
    [0.11400E+03,0.54175E-02],[0.11600E+03,0.57389E-02],[0.11800E+03,0.60740E-02],[0.12000E+03,0.64235E-02]
],[
    [0.30000E+02,0.00000E+00],[0.31000E+02,0.17330E-05],[0.32000E+02,0.12953E-04],[0.33000E+02,0.33916E-04],
    [0.34000E+02,0.64003E-04],[0.35000E+02,0.10227E-03],[0.36000E+02,0.14870E-03],[0.37000E+02,0.20214E-03],
    [0.38000E+02,0.26258E-03],[0.39000E+02,0.32942E-03],[0.40000E+02,0.40201E-03],[0.41000E+02,0.48048E-03],
    [0.42000E+02,0.56437E-03],[0.43000E+02,0.65309E-03],[0.44000E+02,0.74643E-03],[0.45000E+02,0.84471E-03],
    [0.46000E+02,0.94739E-03],[0.47000E+02,0.10541E-02],[0.48000E+02,0.11647E-02],[0.49000E+02,0.12791E-02],
    [0.50000E+02,0.13978E-02],[0.51000E+02,0.15201E-02],[0.52000E+02,0.16460E-02],[0.52000E+02,0.16460E-02],
    [0.53000E+02,0.17753E-02],[0.54000E+02,0.19080E-02],[0.55000E+02,0.20441E-02],[0.56000E+02,0.21841E-02],
    [0.57000E+02,0.23276E-02],[0.58000E+02,0.24745E-02],[0.59000E+02,0.26248E-02],[0.60000E+02,0.27785E-02],
    [0.61000E+02,0.29356E-02],[0.62000E+02,0.30961E-02],[0.63000E+02,0.32602E-02],[0.64000E+02,0.34285E-02],
    [0.65000E+02,0.36004E-02],[0.66000E+02,0.37761E-02],[0.67000E+02,0.39554E-02],[0.68000E+02,0.41386E-02],
    [0.69000E+02,0.43257E-02],[0.70000E+02,0.45168E-02],[0.71000E+02,0.47119E-02],[0.72000E+02,0.49112E-02],
    [0.73000E+02,0.51150E-02],[0.74000E+02,0.53234E-02],[0.75000E+02,0.55362E-02],[0.76000E+02,0.57534E-02],
    [0.77000E+02,0.59752E-02],[0.78000E+02,0.62016E-02],[0.79000E+02,0.64327E-02],[0.80000E+02,0.66686E-02],
    [0.81000E+02,0.69094E-02],[0.82000E+02,0.71551E-02],[0.83000E+02,0.74058E-02],[0.84000E+02,0.76617E-02],
    [0.85000E+02,0.79232E-02],[0.86000E+02,0.81899E-02],[0.87000E+02,0.84618E-02],[0.88000E+02,0.87390E-02],
    [0.89000E+02,0.90216E-02],[0.90000E+02,0.93096E-02]
],[
    [0.23000E+02,0.00000E+00],[0.24000E+02,0.57981E-09],[0.25000E+02,0.11338E-04],[0.26000E+02,0.44092E-04],
    [0.27000E+02,0.96678E-04],[0.28000E+02,0.16802E-03],[0.29000E+02,0.25651E-03],[0.30000E+02,0.36132E-03],
    [0.31000E+02,0.48130E-03],[0.32000E+02,0.61576E-03],[0.33000E+02,0.76327E-03],[0.34000E+02,0.92432E-03],
    [0.35000E+02,0.10971E-02],[0.36000E+02,0.12810E-02],[0.37000E+02,0.14768E-02],[0.38000E+02,0.16829E-02],
    [0.39000E+02,0.18988E-02],[0.40000E+02,0.21246E-02],[0.41000E+02,0.23605E-02],[0.42000E+02,0.26053E-02],
    [0.43000E+02,0.28589E-02],[0.44000E+02,0.31212E-02],[0.45000E+02,0.33928E-02],[0.46000E+02,0.36729E-02],
    [0.47000E+02,0.39612E-02],[0.48000E+02,0.42576E-02],[0.49000E+02,0.45620E-02],[0.50000E+02,0.48746E-02],
    [0.51000E+02,0.51958E-02],[0.52000E+02,0.55247E-02],[0.53000E+02,0.58614E-02],[0.54000E+02,0.62057E-02],
    [0.55000E+02,0.65576E-02],[0.56000E+02,0.69170E-02],[0.57000E+02,0.72842E-02],[0.58000E+02,0.76592E-02],
    [0.59000E+02,0.80416E-02],[0.60000E+02,0.84311E-02]
],[
    [0.20000E+02,0.19358E-06],[0.21000E+02,0.23536E-04],[0.22000E+02,0.84076E-04],[0.23000E+02,0.17975E-03],
    [0.24000E+02,0.30857E-03],[0.25000E+02,0.46853E-03],[0.26000E+02,0.65841E-03],[0.27000E+02,0.87668E-03],
    [0.28000E+02,0.11220E-02],[0.29000E+02,0.13934E-02],[0.30000E+02,0.16900E-02],[0.31000E+02,0.20102E-02],
    [0.32000E+02,0.23551E-02],[0.33000E+02,0.27222E-02],[0.34000E+02,0.31112E-02],[0.35000E+02,0.35229E-02],
    [0.36000E+02,0.39554E-02],[0.37000E+02,0.44080E-02],[0.38000E+02,0.48809E-02],[0.39000E+02,0.53737E-02],
    [0.40000E+02,0.58849E-02],[0.41000E+02,0.64136E-02],[0.42000E+02,0.69595E-02],[0.43000E+02,0.75227E-02],
    [0.44000E+02,0.81011E-02],[0.45000E+02,0.86939E-02],[0.46000E+02,0.93003E-02],[0.47000E+02,0.99194E-02],
    [0.48000E+02,0.10552E-01],[0.49000E+02,0.11195E-01],[0.50000E+02,0.11849E-01]
],[
    [0.17000E+02,0.00000E+00],[0.18000E+02,0.26895E-04],[0.19000E+02,0.11245E-03],[0.20000E+02,0.25419E-03],
    [0.21000E+02,0.44956E-03],[0.22000E+02,0.69676E-03],[0.23000E+02,0.99436E-03],[0.24000E+02,0.13402E-02],
    [0.25000E+02,0.17341E-02],[0.26000E+02,0.21746E-02],[0.27000E+02,0.26613E-02],[0.28000E+02,0.31929E-02],
    [0.29000E+02,0.37701E-02],[0.30000E+02,0.43902E-02],[0.31000E+02,0.50540E-02],[0.32000E+02,0.57593E-02],
    [0.33000E+02,0.65035E-02],[0.34000E+02,0.72862E-02],[0.35000E+02,0.81040E-02]
],[
    [0.14000E+02,0.00000E+00],[0.15000E+02,0.62836E-07],[0.16000E+02,0.46937E-04],[0.17000E+02,0.17872E-03],
    [0.18000E+02,0.39269E-03],[0.19000E+02,0.68720E-03],[0.20000E+02,0.10610E-02],[0.21000E+02,0.15130E-02],
    [0.22000E+02,0.20428E-02],[0.23000E+02,0.26516E-02],[0.24000E+02,0.33386E-02],[0.25000E+02,0.41045E-02],
    [0.26000E+02,0.49485E-02],[0.27000E+02,0.58695E-02],[0.28000E+02,0.68638E-02],[0.29000E+02,0.79315E-02],
    [0.30000E+02,0.90677E-02]
],[
    [0.13000E+02,0.00000E+00],[0.14000E+02,0.25316E-04],[0.15000E+02,0.16097E-03],[0.16000E+02,0.41185E-03],
    [0.17000E+02,0.77783E-03],[0.18000E+02,0.12587E-02],[0.19000E+02,0.18563E-02],[0.20000E+02,0.25731E-02],
    [0.21000E+02,0.34114E-02],[0.22000E+02,0.43736E-02],[0.23000E+02,0.54622E-02],[0.25000E+02,0.80253E-02]
]];
/*
function buildMainDepthList(theDivID,anArray) {
    var myDiv = document.getElementById(theDivID);
    //Create array of options to be added
    selectList=document.getElementById("mainDepthSelect");
    selectList.id = "mainDepthSelect";
    //Create and append the options
    for (var i = 0; i < anArray.length; i++) {
        var option = document.createElement("option");
        option.value = anArray[i];
        option.text = anArray[i];
        selectList.appendChild(option);
    }
}
function clearMainDepthList() {
    selectList=document.getElementById("mainDepthSelect");
    theSize=selectList.length;
    theSize--;
    for (var i = theSize;i>=0;i--) {
        selectList[i].remove();
    }
}
buildMainDepthList("myDiv",mainDepthsAir);
*/
function getBreathMixtIdx() {
    return document.getElementById( "opt_saul_mix" ).selectedIndex;
    //console.log($( "#opt_saul_mix" ).index());
    //return $( "#opt_saul_mix" ).index();
}
function getForwOrRevIndex() {
    return document.getElementById( "opt_saul_res_type" ).selectedIndex;
    //return $( "#opt_saul_res_type" ).index();
}
function printInMMSSFormat(uTime) {
    var theMinutes=Math.floor(uTime);
    var theSeconds=Math.floor((uTime-theMinutes)*60.0);
    var res=theMinutes.toString();
    res+=":";
    res+=(theSeconds < 10 ? "0" : "");
    res+=theSeconds.toString();
    return res;
}
function getForwOrRevValue() {
    //var theSelected=document.getElementById( "forwOrRevSelect" );
    //return theSelected.options[getForwOrRevIndex()].value;
    return $( "#opt_saul_res_type" ).val()*1.0;
}
function getMainDepthIndex() {
    //return (document.getElementById( "opt_saul_depth" ).selectedIndex);
    var selectedIdx = (document.getElementById( "opt_saul_depth" ).selectedIndex);
    return Math.ceil((selectedIdx + 1) / 3 - 0.0001);
}
function getMainDepthValue() {
    //var theSelected=document.getElementById( "mainDepthSelect" );
    //return theSelected.options[getMainDepthIndex()].value;
    var meters = $( "#opt_saul_depth" ).val()*1.0;
    var feet = Math.ceil(Math.ceil(meters * 3.28084) / 10) * 10;
    return feet;
}
function updateFieldsBreathingMixture() {
    clearMainDepthList();
    var bmIdx=getBreathMixtIdx();
    if ( bmIdx == 0 ) {
        buildMainDepthList("myDiv",mainDepthsAir);
    } else {
        buildMainDepthList("myDiv",mainDepthsNitrox32);
    }
}
/*
function updateFieldsFrwdOrRev() {
    var frwOrRevIdx=getForwOrRevIndex();
    var theHead=document.getElementById("inputDesiredVariableHead");
    if (frwOrRevIdx == 0) {
        theHead.innerHTML= "4) Enter the bottom time (in min):";
    } else {
        theHead.innerHTML= "4) Enter your desired P(DCS), in percentage:";
    }
}
*/

function getPDCSFromBT(dsrdBT) {
    var mainDepthIdx = getMainDepthIndex();
    var nElem=0;
    var minBT=0.0;
    var maxBT=0.0;
    var theBMIdx=getBreathMixtIdx();
    if ( theBMIdx == 0 ) {
        nElem=gridPDCSvsBTAir[mainDepthIdx].length;
        minBT=gridPDCSvsBTAir[mainDepthIdx][0][0];
        maxBT=gridPDCSvsBTAir[mainDepthIdx][nElem-1][0];
    } else {
        nElem=gridPDCSvsBTNitrox32[mainDepthIdx].length;
        minBT=gridPDCSvsBTNitrox32[mainDepthIdx][0][0];
        maxBT=gridPDCSvsBTNitrox32[mainDepthIdx][nElem-1][0];
    }
    var resStr = "";

    //console.log(maxBT);
    if ((dsrdBT < 0.0) || (dsrdBT > maxBT)) {
        resStr = "The desired Bottom Time is out of range!";
        return resStr;
    }
    var uppIdx=0;
    if ( theBMIdx == 0 ) {
        while ( (dsrdBT>=gridPDCSvsBTAir[mainDepthIdx][uppIdx][0]) && (uppIdx<(nElem-1)) ) {
            uppIdx++;
        }
    } else {
        while ( (dsrdBT>=gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx][0]) && (uppIdx<(nElem-1)) ) {
            uppIdx++;
        }
    }
    if ( uppIdx > nElem ) { uppIdx--; }
    var proyPDCS=0.0;
    var theDepth=0.0;
    if (uppIdx!=0) {
        if ( theBMIdx == 0 ) {
            var XX=gridPDCSvsBTAir[mainDepthIdx][uppIdx-1][0];
            var AA=gridPDCSvsBTAir[mainDepthIdx][uppIdx-1][1];
            var MM=(gridPDCSvsBTAir[mainDepthIdx][uppIdx][1]-gridPDCSvsBTAir[mainDepthIdx][uppIdx-1][1]);
            MM/=(gridPDCSvsBTAir[mainDepthIdx][uppIdx][0]-gridPDCSvsBTAir[mainDepthIdx][uppIdx-1][0]);
            proyPDCS=AA+MM*(dsrdBT-XX);
            theDepth=mainDepthsAir[mainDepthIdx];
        } else {
            var XX=gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx-1][0];
            var AA=gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx-1][1];
            var MM=(gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx][1]-gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx-1][1]);
            MM/=(gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx][0]-gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx-1][0]);
            proyPDCS=AA+MM*(dsrdBT-XX);
            theDepth=mainDepthsNitrox32[mainDepthIdx];
        }
    }
    proyPDCS*=100.0;
    resStr += "";
    if( proyPDCS == 0.0){
        resStr += proyPDCS.toFixed(0);
    }
    else{
        resStr += proyPDCS.toFixed(5);
    }

    resStr +=  " %";
    return resStr;
}

function getMaxPercentFromDepth() {

    var mainDepthIdx = getMainDepthIndex();
    var theBMIdx = getBreathMixtIdx();
    var nElem = 0;
    var maxPDCS = 0.0;
    if (theBMIdx == 0) {
        nElem = gridPDCSvsBTAir[mainDepthIdx].length;
        maxPDCS = gridPDCSvsBTAir[mainDepthIdx][nElem - 1][1];
    } else {
        nElem = gridPDCSvsBTNitrox32[mainDepthIdx].length;
        maxPDCS = gridPDCSvsBTNitrox32[mainDepthIdx][nElem - 1][1];
    }
    //console.log(maxPDCS);
    return maxPDCS*100;
}
function getBTFromPDCS(uDsrdPDCS) {
    var dsrdPDCS=uDsrdPDCS/100.0;
    var mainDepthIdx=getMainDepthIndex();
    var theBMIdx=getBreathMixtIdx();
    var nElem=0;
    var minPDCS=0.0;
    var maxPDCS=0.0;
    if ( theBMIdx == 0 ) {
        nElem=gridPDCSvsBTAir[mainDepthIdx].length;
        minPDCS=gridPDCSvsBTAir[mainDepthIdx][0][1];
        maxPDCS=gridPDCSvsBTAir[mainDepthIdx][nElem-1][1];
    } else {
        nElem=gridPDCSvsBTNitrox32[mainDepthIdx].length;
        minPDCS=gridPDCSvsBTNitrox32[mainDepthIdx][0][1];
        maxPDCS=gridPDCSvsBTNitrox32[mainDepthIdx][nElem-1][1];
    }
    var resStr = "";

    if ((dsrdPDCS < minPDCS) || (dsrdPDCS > maxPDCS)) {
        //resStr = "The desired P(DCS) is out of range!";
        resStr = "The desired P(DCS) is out of range!";
        return resStr;
    }
    var uppIdx=0;
    if ( theBMIdx == 0 ) {
        while ( (dsrdPDCS>=gridPDCSvsBTAir[mainDepthIdx][uppIdx][1]) && (uppIdx<(nElem-1)) ) {
            uppIdx++;
        }
    } else {
        while ( (dsrdPDCS>=gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx][1]) && (uppIdx<(nElem-1)) ) {
            uppIdx++;
        }
    }
    if (uppIdx == (nElem-1)) { uppIdx--;}
    var allowedBT=0.0;
    var theDepth=0.0;
    if (uppIdx!=0) {
        if ( theBMIdx == 0 ) {
            var XX=gridPDCSvsBTAir[mainDepthIdx][uppIdx-1][1];
            var AA=gridPDCSvsBTAir[mainDepthIdx][uppIdx-1][0];
            var MM=(gridPDCSvsBTAir[mainDepthIdx][uppIdx][0]-gridPDCSvsBTAir[mainDepthIdx][uppIdx-1][0]);
            MM/=(gridPDCSvsBTAir[mainDepthIdx][uppIdx][1]-gridPDCSvsBTAir[mainDepthIdx][uppIdx-1][1]);
            allowedBT=AA+MM*(dsrdPDCS-XX);
            theDepth=mainDepthsAir[mainDepthIdx];
        } else {
            var XX=gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx-1][1];
            var AA=gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx-1][0];
            var MM=(gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx][0]-gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx-1][0]);
            MM/=(gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx][1]-gridPDCSvsBTNitrox32[mainDepthIdx][uppIdx-1][1]);
            allowedBT=AA+MM*(dsrdPDCS-XX);
            theDepth=mainDepthsNitrox32[mainDepthIdx];
        }
    }
    resStr +="";
    resStr += printInMMSSFormat(allowedBT);
    resStr +=  lng_min.substring(1);
    return resStr;
}

function getMaxBTfromMaxDepth() {
    var mainDepthIdx = getMainDepthIndex();
    //console.log(getMainDepthIndex());
    var nElem = 0;
    var maxBT = 0.0;
    var theBMIdx = getBreathMixtIdx();

    if (theBMIdx == 0) {
        nElem = gridPDCSvsBTAir[mainDepthIdx].length;
        maxBT = gridPDCSvsBTAir[mainDepthIdx][nElem - 1][0];
    } else {
        nElem = gridPDCSvsBTNitrox32[mainDepthIdx].length;
        maxBT = gridPDCSvsBTNitrox32[mainDepthIdx][nElem - 1][0];
    }
    return maxBT;
}
//update depth to selected gas for SAUL Planner
function upd_saul_depth(){
    if($( "#opt_saul_mix" ).val()*1.0 == 1){
    del_html_elem("tn_saul_depth");
    create_option("tn_saul_depth", "opt_saul_depth", 12, 57, opt_saul_depth_usr , 1 , 0 , "depth");
    }
    else{
        del_html_elem("tn_saul_depth");
        create_option("tn_saul_depth", "opt_saul_depth", 15, 39, opt_saul_depth_usr , 1 , 0 , "depth");
    }
    opt_saul_depth = document.getElementById("opt_saul_depth");
    opt_saul_depth.addEventListener('change', upd_saul_time);



    upd_saul_time();
    //upd_saul();
}
upd_saul_depth();

//Update time after depth changed
function upd_saul_time(){
    del_html_elem("tn_saul_btime");
    create_option("tn_saul_btime", "opt_saul_btime", 5, getMaxBTfromMaxDepth() , opt_saul_btime_usr , 1 , 0 , "none");

    opt_saul_btime = document.getElementById("opt_saul_btime");
    opt_saul_btime.addEventListener('change', upd_saul);

    //also update to right percentage range
    upd_saul_percent();

    upd_saul();
}
upd_saul_time();

//update percentage DCS range if depth changed
function upd_saul_percent(){

    del_html_elem("tn_saul_percent");
    create_option("tn_saul_percent", "opt_saul_percent", 0.0, getMaxPercentFromDepth().toFixed(2)*1.0 - 0.01 , opt_saul_percent_usr , 0.01 , 2 , "none");

    opt_saul_percent = document.getElementById("opt_saul_percent");
    opt_saul_percent.addEventListener('change', upd_saul);
}
upd_saul_percent();

//update calculation Type to selected Type
function upd_saul_type(){
    if($( "#opt_saul_res_type" ).val()*1.0 == 1) {
        element_id_show("tr_saul_cap_percent");
        element_id_show("tn_saul_cap_percent");
        element_id_show("tr_saul_btime");
        element_id_show("tn_saul_btime");


        element_id_hide("tr_saul_time_max");
        element_id_hide("tn_saul_time_max");
        //element_id_hide("tr_saul_time_max_dim");
        element_id_hide("tr_saul_percent");
        element_id_hide("tn_saul_percent");
    }
    else{
        element_id_hide("tr_saul_cap_percent");
        element_id_hide("tn_saul_cap_percent");
        element_id_hide("tr_saul_btime");
        element_id_hide("tn_saul_btime");

        element_id_show("tr_saul_time_max");
        element_id_show("tn_saul_time_max");
        //element_id_hide("tr_saul_time_max_dim");
        element_id_show("tr_saul_percent");
        element_id_show("tn_saul_percent");
    }
    upd_saul();
}
upd_saul_type();

function upd_saul() {
    /*
    var dsrdQntt = parseFloat(document.getElementsByTagName("input")[0].value);
    var paragraph = document.getElementById("dispResult");
    paragraph.textContent = "";
    var calcType=getForwOrRevIndex();
    if (calcType==0) {
        paragraph.textContent += getPDCSFromBT(dsrdQntt);
    } else {
        paragraph.textContent += getBTFromPDCS(dsrdQntt);
    }
    */

    if($( "#opt_saul_res_type" ).val()*1.0 == 1) {
        var dsrdQntt = parseFloat($( "#opt_saul_btime" ).val()*1.0);
        del_html_elem("tn_saul_cap_percent");
        create_html_text("tn_saul_cap_percent" , "opt_saul_cap_percent" , getPDCSFromBT(dsrdQntt))
    }
    else{

        var dsrdQntt = parseFloat($( "#opt_saul_percent" ).val()*1.0);
        del_html_elem("tn_saul_time_max");
        create_html_text("tn_saul_time_max" , "tn_saul_time_max" , getBTFromPDCS(dsrdQntt))
    }

    //console.log(getMainDepthValue(), getMaxBTfromMaxDepth(),opt_saul_percent_usr);

    //auto save all settings
    btn_save();
}